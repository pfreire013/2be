{"version":3,"sources":["services/ApiServico.js","API.js","services/Autenticacao.js","theme.js","screens/Login/styles.js","screens/Login/Login.js","screens/Login/index.js","screens/ReceivedMessages/ReceivedPrimary/styles.js","screens/ReceivedMessages/ReceivedPrimary/ReceivedPrimary.js","screens/ReceivedMessages/ReceivedPrimary/index.js","services/GeradorMensagemServico.js","screens/ReceivedMessages/ReceivedList/styles.js","screens/ReceivedMessages/ReceivedList/ReceivedList.js","screens/ReceivedMessages/ReceivedList/index.js","screens/ReceivedMessages/ReceivedListHeader/styles.js","screens/ReceivedMessages/ReceivedListHeader/ReceivedListHeader.js","screens/ReceivedMessages/ReceivedListHeader/index.js","screens/ReceivedMessages/styles.js","screens/ReceivedMessages/ReceivedMessages.js","screens/ReceivedMessages/index.js","screens/Template/styles.js","screens/Template/Template.js","screens/Template/index.js","routes.js","styles/global.js","App.js","index.js"],"names":["autenticar","token","obterTokenUsuario","cabecalho","Headers","append","baseUrl","login","key","senha","a","autenticacao","key_acesso","password","console","log","detalhesChamada","method","headers","body","JSON","stringify","fetch","res","ok","json","erro","Error","dados","Cookies","set","path","expires","usuario","getJSON","access_token","theme","white","black","blue","green","red","lightGray","Gray","darkGray","Container","styled","div","LoginContainer","Login","useState","setKey","setSenha","history","useHistory","logarUsuario","e","preventDefault","push","alert","placeholder","onChange","target","value","name","type","onClick","Header","DataContainer","TypeContainer","MessageContainer","CheckBoxContainer","SendContainer","ReceivedPrimary","selected","modelarMensagem","tipo","celular","template","texto","parametros","ReceivedList","data","setType","setMessage","isChecked","setIsChecked","useEffect","_id","origem","ReceivedListHeader","PaginationContainer","ReceivedMessages","getMidia","getMensgens","mockMensagensResponse","map","d","midia","midia_id","midia_tipo","gerada","Date","processada","falha","enviada","entregue","lida","TemplateContainer","TemplateOpitionContainer","props","show","DropdownOpition","button","OptionContainer","SendDropdown","FooterContainer","ListContacts","Logout","Template","setToken","showOpiton","setShowOption","templates","setTemplates","selectTemplate","setSelectTemplate","celulares","setCelulares","setSendSuccess","sendOption","setSendOption","fileCSV","setFileCSV","celularesCSV","setCelularesCSV","parametrosCSV","setParametrosCSV","useRef","_token","obterTemplates","obterCelulares","enviarMensagensCSV","arrayCelularString","celularCSV","toString","mensagens","i","length","mensagem","conteudo","enviarMensagens","divididoPor200","Math","round","nome","handleFiles","files","reader","FileReader","onload","lines","result","split","line","readAsText","fileTypes","className","today","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","parametroCSV","slice","data_aceite","substr","remove","domain","Routes","exact","component","createGlobalStyle","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.595de785.chunk.js","sourcesContent":["import { obterTokenUsuario } from './Autenticacao';\n\n\nexport const url_api = \"http://34.217.148.38/\";\n\n\nexport function autenticar() {\n    var token = obterTokenUsuario();\n\n    if (token) {\n        let cabecalho = new Headers();\n        cabecalho.append('Authorization', 'Bear ' + token);\n        cabecalho.append('Content-Type', 'application/json');\n        return cabecalho;\n    }\n    else {\n        return {};\n    }\n}\n","const baseUrl = 'http://34.217.148.38'\n\nconst domains = {\n  getAuth: `${baseUrl}/autenticacao/`,\n  getMensagem: `${baseUrl}/mensagem/`,\n  getMedia: `${baseUrl}/midia/`\n}\n\nexport default {\n  domains\n}","import { url_api } from './ApiServico';\nimport { domain } from '../API'\nimport Cookies from 'js-cookie';\n\n\nexport async function login(key, senha) {\n        let autenticacao = {\n            key_acesso: key,\n            password: senha\n        }\n        console.log('autenticacao', autenticacao)\n\n        const detalhesChamada = {\n            method: 'POST',\n            headers: { \n                'Content-Type': 'application/json',\n                'Access-Control-Allow-Origin': '*'\n            },\n            body: JSON.stringify(autenticacao)\n        }\n\n        console.log('detalhesChamada', detalhesChamada)\n\n\n        let res = await fetch('http://34.217.148.38/autenticacao/', detalhesChamada);\n\n        if (!res.ok) {\n            let erro = await res.json();\n            throw new Error(erro);\n        }\n        else {\n            let dados = await res.json();\n            Cookies.set('usuariogr',\n                JSON.stringify(dados),\n                {\n                    path: '',\n                    expires: 1/48,\n                }\n                );\n        }\n    }\n\n    \nexport function obterTokenUsuario() {\n        var usuario = Cookies.getJSON('usuariogr');\n        if (usuario) {\n            return usuario.access_token;\n        }\n    }\n\n\nexport function logout() {\n        Cookies.remove('usuariogr', { path: '', domain: 'domain.com' });\n    }\n\n","export const theme = {\n  color: {\n    white: '#FFFFFF',\n    black: '#000000',\n    blue: '#73BCFF',\n    green: '#0F9D58',\n    red: '#DB4437',\n    lightGray: '#EEEEEE',\n    Gray: '#666666',\n    darkGray: '#B3B3B3',\n  }\n}","import styled from 'styled-components'\nimport { theme } from '../../theme'\n\nexport const Container = styled.div`\n  display: flex;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin-top: 20%;\n`\n\nexport const LoginContainer = styled.div`\n  width: 300px;\n  background: ${theme.color.white};\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  h1 {\n    font-size: 24px;\n    color: #000;\n    font-family: Arial, Helvetica, sans-serif;\n    align-self: center;\n    margin-top: 12px;\n    margin-bottom: 12px;\n  }\n\n  input {\n    height: 40px;\n    width: 80%;\n    border: 2px solid ${theme.color.lightGray};\n    border-radius: 20px;\n    margin-bottom: 8px;\n    padding: 12px;\n  }\n\n  input:last-child {\n    -webkit-text-security: disc;\n    text-security: disc;\n  }\n\n  button {\n    background: #73BCFF;\n    border-radius: 25px;\n    height: 40px;\n    width: 100px;\n    margin-top: 12px;\n    color: ${theme.color.white};\n    font-weight: bold;\n    margin-bottom: 12px;\n    }\n`\n\n","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { login } from './../../services/Autenticacao';\n\nimport { Container, LoginContainer } from './styles';\n\nfunction Login() {\n  const [key, setKey ] = useState('')\n  const [senha, setSenha ] = useState('')\n  const history = useHistory();\n\n  const commonChange = (e) => {\n    this.setState({\n        [e.target.name]: e.target.value\n        //nao entendi o que seria isso.. mas devemos criar um use state para capturar isso\n    });\n  }\n\n  const commonChangeModal = (e) => {\n    this.setState({ Modal: { ...this.state.Modal, [e.target.name]: e.target.value } })\n  }\n\n  const logarUsuario = async (e) => {\n      e.preventDefault();\n\n      try {\n          console.log('entrie')\n          await login(key, senha);\n          history.push('/template');\n      }\n      catch (error) {\n          return alert('Key ou senha inválidas')\n      }\n  }\n\n  return (\n    <Container>\n        <LoginContainer>\n          <h1>Login</h1>\n          <input \n            placeholder='Usuario'\n            onChange={e => setKey(e.target.value)}\n          />\n          <input\n            name=\"password\" \n            type=\"password\" \n            placeholder='Senha'\n            onChange={e => setSenha(e.target.value)}\n          />\n            <button \n              type=\"button\"\n              onClick={logarUsuario}  \n            >Entrar</button>\n        </LoginContainer>\n    </Container>\n  );\n}\n\nexport default Login;","import Login from './Login'\n\nexport default Login","import styled from 'styled-components'\nimport { theme } from '../../../theme'\n\nexport const Container = styled.div`\n  max-width: 1000px;\n  background: ${theme.color.white};\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  border-radius: 100px;\n  padding:  8px 16px 8px 16px;\n  margin-bottom: 8px;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n  `\n\nexport const Header = styled.div`\n  width: 100%;\n  display: flex;\n  padding: 8px;\n`\n\nexport const DataContainer = styled.div`\n  width: 55%;\n  display: flex;\n  justify-content: center;\n  align-items: center; \n\n  h2 {\n    font-size: 20px;\n    color: #000;\n    text-align: center;\n    font-weight: normal;\n  }\n`\n\nexport const TypeContainer = styled.div`\n  width: 20%;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start; \n  flex-direction: column;\n  padding: 0 8px;\n\n  h2 {\n    font-size: 20px;\n    color: #000;\n    text-align: center;\n    font-weight: normal;\n    margin-bottom: 8px;\n    }\n\n  select {\n    height: 40px;\n    width: 90%;\n    background: ${theme.color.lightGray};\n    font-size: 16px;\n  }\n`\n\nexport const MessageContainer = styled.div`\n  width: 30%;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start; \n  flex-direction: column;\n  padding: 0 8px;\n  \n  h2 {\n    font-size: 20px;\n    color: #000;\n    text-align: center;\n    font-weight: normal;\n    margin-bottom: 8px;\n    }\n\n  input {\n    border: 1px solid ${theme.color.lightGray};\n    height: 50px;\n    width: 100%;\n    padding: 8px;\n  }\n`\n\nexport const CheckBoxContainer = styled.div`\n  width: 5%;\n  display: flex;\n  justify-content: center;\n  align-items: center; \n\n  input[type=\"checkbox\"] {\n    font-size: 30px;\n  }\n`\n\nexport const SendContainer = styled.div`\n  width: 10%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  button {\n    height: 50px;\n    width: 50px;\n    border-radius: 25px;\n    background: ${theme.color.green};\n  }\n\n`\n","import React from 'react';\n\nimport { Container, Header, DataContainer, TypeContainer, MessageContainer, CheckBoxContainer, SendContainer } from './styles';\n\nfunction ReceivedPrimary() {\n  return (\n    <Container>\n      <Header>\n        <DataContainer>\n          <h2>Dados Mensagem</h2>\n        </DataContainer>\n        <TypeContainer>\n          <h2>\n            Tipo\n          </h2>\n          <select>\n            <option value=\"text\">Texto</option>\n            <option value=\"image\">Imagem</option>\n            <option selected value=\"video\">Video</option>\n            <option value=\"audio\">Audio</option>\n            <option value=\"document\">Documento</option>\n          </select>\n        </TypeContainer>\n        <MessageContainer>\n          <h2>\n            Mensagem\n          </h2>\n          <input \n            placeholder='Texto'\n          />\n        </MessageContainer>\n        <CheckBoxContainer>\n          <input \n          name=\"checkAll\"\n          type=\"checkbox\"\n          />\n        </CheckBoxContainer>\n        <SendContainer>\n          <button />\n        </SendContainer>\n      </Header>\n    </Container>\n  );\n}\n\nexport default ReceivedPrimary;","import ReceivedPrimary from './ReceivedPrimary'\n\nexport default ReceivedPrimary","import { url_api , autenticar} from './ApiServico';\nimport {enviarMensagens, obterMensagens} from './MensagemServico'\n\n\nexport async function responder(skip) {\n    var msgs_respondidas = [];\n    var existe_storage = localStorage.getItem('mensagensRespondidas');\n    if(existe_storage){\n        msgs_respondidas = JSON.parse(sessionStorage.getItem('mensagensRespondidas'));\n    }\n    var msgs_nao_respondidas = []; \n    var dados = await obterMensagens('externa', null, skip);\n    dados.map((dado, index) => {\n        if(msgs_respondidas.findIndex(x => x == dado._id) == -1){\n            msgs_nao_respondidas.push(dado);\n        }\n    })\n\n    return msgs_nao_respondidas;\n}\n\nexport async function usuario(celular, skip) {\n    var dados = await obterMensagens(null, celular, skip);\n    return dados;\n}\n\nexport async function enviadas(skip) {\n    var dados = await obterMensagens('interna', null, skip);\n    return dados;\n}\n\nexport async function enviar(msgs){\n    var dados = await enviarMensagens(msgs);\n    return dados;\n}\n\nexport function salvarResposta(id) {\n    var existe_storage = localStorage.getItem('mensagensRespondidas');\n    if(existe_storage){\n        var msgs = JSON.parse(sessionStorage.getItem('mensagensRespondidas'));\n        msgs.ids.push(id);\n        localStorage.setItem('mensagensRespondidas', JSON.stringify(msgs));\n    }\n    else{\n        var msgs = {ids: [id]};\n        localStorage.setItem('mensagensRespondidas', JSON.stringify(msgs));\n    }\n}\n\nexport function modelarMensagem(tipo, celular, template, texto, parametros) {\n    var obj = {\n        'tipo': tipo,\n        'celular': celular,\n        'template': template,\n        'texto': texto,\n        //'midia': midia,\n        'parametros': parametros\n    }\n    \n    return obj;\n}\n","import styled from 'styled-components'\nimport { theme } from '../../../theme'\n \nexport const Container = styled.div`\n  max-width: 1000px;\n  background: ${theme.color.white};\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  border-radius: 100px;\n  padding:  8px 16px 8px 16px;\n  margin-bottom: 8px;\n`\n\nexport const DataContainer = styled.div`\n  max-width: 55%; \n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  justify-content: space-between;\n\n  div:nth-child(1n) {\n    width: 60px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div:nth-child(2n) {\n    width: 100px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div:nth-child(3n) {\n    width: 60px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div:nth-child(4n) {\n    width: 150px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div:nth-child(5n) {\n    width: 60px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div {\n    padding: 0 8px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-right: 1px solid ${theme.color.lightGray};\n\n    h2 {\n      font-size: 16px;\n      font-weight: normal;\n    }\n  }\n`\n\nexport const TypeContainer = styled.div`\n  width: 20%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  select {\n    height: 40px;\n    width: 80%;\n    background: ${theme.color.lightGray};\n    font-size: 16px;\n  }\n`\n\nexport const MessageContainer = styled.div`\n  width: 30%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  input {\n    border: 1px solid ${theme.color.lightGray};\n    height: 50px;\n    width: 90%;\n    padding: 8px;\n  }\n`\n\nexport const CheckBoxContainer = styled.div`\n  width: 5%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  input[type=\"checkbox\"] {\n    font-size: 30px;\n  }\n`\n\nexport const SendContainer = styled.div`\n  width: 10%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  button {\n    height: 50px;\n    width: 50px;\n    border-radius: 25px;\n    background: ${theme.color.green};\n  }\n`","import React, { useEffect, useState } from 'react';\nimport { modelarMensagem } from '../../../services/GeradorMensagemServico'\n\nimport { Container, DataContainer, TypeContainer, MessageContainer, CheckBoxContainer, SendContainer } from './styles';\n\nfunction ReceivedList({ data }) {\n  const [type, setType] = useState()\n  const [message, setMessage] = useState()\n  const [isChecked, setIsChecked] = useState(false)\n\n  const handleSend = () => {\n    const template = {\n        categoria: 'string',\n        nome: 'string',\n        conteudo: 'string',\n        status: 'string'\n      }\n    \n      const midia = ''\n\n    modelarMensagem(data.tipo, data.celular, template, message, midia, data.parametros  )\n  } \n\n  useEffect(() => {\n    console.log('data', data)\n  },[])\n\n  return (\n    <Container>\n      <DataContainer>\n        <div>\n          <h2>{data._id}</h2>\n        </div>\n        <div>\n          <h2>{data.origem}</h2>\n        </div>\n        <div>\n          <h2>{data.tipo}</h2>\n        </div>\n        <div>\n          <h2>{data.texto}</h2>\n        </div>\n        <div>\n          <h2>03/07</h2>\n        </div>\n      </DataContainer>\n      <TypeContainer>\n        <select onChange={e => setType(e.target.value)}>\n          <option selected value=\"Texto\">Texto</option>\n          <option value=\"Imagem\">Imagem</option>\n          <option value=\"Video\">Video</option>\n          <option value=\"Audio\">Audio</option>\n          <option value=\"Documento\">Documento</option>\n        </select>\n      </TypeContainer>\n      <MessageContainer>\n        <input \n          placeholder='Texto'\n          onChange={e => setMessage(e.target.value)}\n        />\n      </MessageContainer>\n      <CheckBoxContainer>\n          <input \n          name=\"check\"\n          type=\"checkbox\"\n          onClick={() => setIsChecked(!isChecked)}\n          />\n        </CheckBoxContainer>\n        <SendContainer>\n          <button/>\n        </SendContainer>\n    </Container>\n  );\n}\n\nexport default ReceivedList;","import ReceivedList from './ReceivedList'\n\nexport default ReceivedList","import styled from 'styled-components'\nimport { theme } from '../../../theme'\n\nexport const Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  padding: 16px 8px;\n`\nexport const DataContainer = styled.div`\n  width: 45%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  div:nth-child(1n) {\n    width: 60px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div:nth-child(2n) {\n    width: 100px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div:nth-child(3n) {\n    width: 60px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div:nth-child(4n) {\n    width: 150px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div:nth-child(5n) {\n    width: 60px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div {\n    padding: 0 8px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-right: 1px solid ${theme.color.lightGray};\n\n    h2 {\n      font-size: 16px;\n      font-weight: normal;\n      text-align: center;\n    }\n  }\n`\n\nexport const TypeContainer = styled.div`\n  div {\n    width: 160px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-right: 1px solid ${theme.color.lightGray};\n\n    h2 {\n      font-size: 16px;\n      font-weight: normal;\n      text-align: center;\n    }\n  }\n`\n\nexport const MessageContainer = styled.div`\n  div {\n      width: 220px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border-right: 1px solid ${theme.color.lightGray};\n\n      h2 {\n        font-size: 16px;\n        font-weight: normal;\n        text-align: center;\n      }\n    }\n`\n\nexport const CheckBoxContainer = styled.div`\n  div {\n      width: 95px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border-right: 1px solid ${theme.color.lightGray};\n\n      h2 {\n        font-size: 16px;\n        font-weight: normal;\n        text-align: center;\n      }\n    }\n`\n\nexport const SendContainer  = styled.div`\n  div {\n      width: 30px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border-right: 1px solid ${theme.color.lightGray};\n\n      h2 {\n        font-size: 16px;\n        font-weight: normal;\n        text-align: center;\n      }\n    }\n`\n","import React from 'react';\n\nimport { Container, DataContainer, TypeContainer, MessageContainer, CheckBoxContainer, SendContainer } from './styles';\n\nfunction ReceivedListHeader() {\n  return (\n    <Container>\n      <DataContainer>\n        <div>\n          <h2>ID</h2>\n        </div>\n        <div>\n          <h2>Origem</h2>\n        </div>\n        <div>\n          <h2>Tipo</h2>\n        </div>\n        <div>\n          <h2>Mensagem</h2>\n        </div>\n        <div>\n          <h2>Data</h2>\n        </div>\n      </DataContainer>\n      <TypeContainer>\n        <div>\n          <h2>Tipo</h2>\n        </div>\n      </TypeContainer>\n      <MessageContainer>\n        <div>\n          <h2>Mensagem</h2>\n        </div>\n      </MessageContainer>\n      <CheckBoxContainer>\n        <div>\n          <h2>Check</h2>\n        </div>\n      </CheckBoxContainer>\n      <SendContainer>\n        <div>\n          <h2>Enviar</h2>\n        </div>\n      </SendContainer>\n    </Container>\n  );\n}\n\nexport default ReceivedListHeader;","import ReceivedListHeader from './ReceivedListHeader'\n\nexport default ReceivedListHeader","import styled from 'styled-components'\n\nexport const Container = styled.div`\n  max-width: 1000px;\n  margin: 80px auto;\n`\n\nexport const PaginationContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n\n  button {\n    width: 30px;\n    height: 30px;\n    border-radius: 20px;\n  }\n\n  h2 {\n    font-size: 18px;\n    margin: 0 8px;\n  }\n`","import React, { useEffect } from 'react';\nimport ReceivedPrimary from './ReceivedPrimary'\nimport ReceivedList from './ReceivedList'\nimport ReceivedListHeader from './ReceivedListHeader'\nimport { url_api, autenticar } from '../../services/ApiServico';\n\n\nimport { Container, PaginationContainer } from './styles';\nimport { obterMensagens } from '../../services/MensagemServico';\n\nfunction ReceivedMessages() {\n  useEffect(() => {\n    getMidia()\n    getMensgens()\n  },[])\n\n  const getMensgens = async () => {\n    const detalhesChamada = {\n      method: 'GET',\n      headers: autenticar(),\n    }\n  \n    let res = await fetch('http://34.217.148.38/mensagem/', detalhesChamada)\n    console.log('mensagesn', res)\n  }\n\n  const getMidia = async () => {\n    const detalhesChamada = {\n      method: 'GET',\n      headers: autenticar(),\n    }\n  \n    let res = await fetch('http://34.217.148.38/midia/', detalhesChamada)\n    console.log('mensagesn', res)\n  }\n\n  return (\n    <Container>\n      <ReceivedPrimary />\n      <ReceivedListHeader />\n      {\n        mockMensagensResponse.dados.map(d => <ReceivedList key={d._id} data={d}/>)\n      }\n      <PaginationContainer>\n        <button >{'<'}</button>\n        <h2>1</h2>\n        <button >{'>'}</button>\n      </PaginationContainer>\n    </Container>\n  );\n}\n\nexport default ReceivedMessages;\n\n\nconst mockMensagensResponse = {\n  dados: [\n    {\n      _id: '17991',\n      origem: 'interna',\n      celular: '13996648775',\n      tipo: 'text',\n      texto: 'texto enviado',\n      midia: {\n        midia_id: 'id da mídia',\n        midia_tipo:  'tipo da mídia'\n      },\n      template: 'Id do template',\n      parametros: ['1'],\n      gerada: new Date(),\n      processada: new Date(),\n      falha: 'string',\n      enviada: new Date(),\n      entregue: new Date(),\n      lida: new Date()\n      },\n      {\n        _id: '17992',\n        origem: 'interna',\n        celular: '13996648775',\n        tipo: 'text',\n        texto: 'texto enviado',\n        midia: {\n          midia_id: 'id da mídia',\n          midia_tipo:  'tipo da mídia'\n        },\n        template: 'Id do template',\n        parametros: ['1'],\n        gerada: new Date(),\n        processada: new Date(),\n        falha: 'string',\n        enviada: new Date(),\n        entregue: new Date(),\n        lida: new Date()\n      },\n      {\n        _id: '17993',\n        origem: 'interna',\n        celular: '13996648775',\n        tipo: 'text',\n        texto: 'texto enviado',\n        midia: {\n          midia_id: 'id da mídia',\n          midia_tipo:  'tipo da mídia'\n        },\n        template: 'Id do template',\n        parametros: ['1'],\n        gerada: new Date(),\n        processada: new Date(),\n        falha: 'string',\n        enviada: new Date(),\n        entregue: new Date(),\n        lida: new Date()\n      },\n  ]\n}","import ReceivedMessages from './ReceivedMessages'\n\nexport default ReceivedMessages","import styled from 'styled-components'\nimport { theme } from '../../theme'\n\nexport const Container = styled.div`\n  background: ${theme.color.white};\n  border-radius: 20px;\n  max-width: 700px;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n  padding: 30px;\n  margin: 80px auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  h1 {\n    font-size: 24px;\n    color: #000;\n    font-family: Arial, Helvetica, sans-serif;\n    margin-bottom: 20px;\n  }\n\n  h2 {\n    font-size: 20px;\n    color: #000;\n    font-family: Arial, Helvetica, sans-serif;\n  }\n`\n\nexport const TemplateContainer = styled.div`\n  display: flex;\n  background: ${theme.color.white};\n  height: 150px;\n  width: 80%;\n  border: 2px solid ${theme.color.lightGray};\n  border-radius: 20px;\n  margin-bottom: 20px;\n  margin-top: 40px;\n  padding: 20px;\n  justify-content: center;\n  align-items: center;\n\n  h2 {\n    font-size: 16px;\n    font-weight: normal;\n  }\n\n`\n\nexport const TemplateOpitionContainer = styled.div`\n  width: 80%;\n\n  div {\n     div{\n      opacity: ${props => props.show ? 0 : 1};\n      padding-left: 8px;\n      margin: 8px 0;\n\n        h2 {\n          font-size: 14px;\n          font-weight: normal;\n        }\n     }\n  }\n`\n\nexport const DropdownOpition = styled.button`\n  width: 100%;\n  border: none;\n  border-bottom: 2px solid ${theme.color.lightGray};\n  padding-bottom: 8px;\n  display: flex;\n  align-items: flex-start;\n`\n\nexport const OptionContainer = styled.button`\n  background: none;\n  border: none;\n  padding: 8px;\n\n  h2 {\n        font-size: 16px;\n        font-weight: normal;\n      }\n`\n\nexport const SendDropdown = styled.div`\n  width: 80%;\n  border-bottom: 2px solid ${theme.color.lightGray};\n  padding-bottom: 20px;\n  margin-bottom: 20px;\n\n  h2 {\n        font-size: 16px;\n        font-weight: bold;\n        margin-bottom: 12px;\n      }\n\n  select {\n    height: 40px;\n    width: 50%;\n    background: ${theme.color.lightGray};\n    font-size: 16px;\n  }\n`\n\nexport const FooterContainer = styled.div`\n\n  div {\n    display: flex;\n  }\n  \n  button:nth-child(1n) {\n    background: ${theme.color.green};\n    margin-right: 12px;\n  }\n\n  button:nth-child(2n) {\n    background: ${theme.color.blue};\n  }\n\n  button {\n    height: 40px;\n    padding: 8px;\n    border: none;\n    border-radius: 5px;\n    color: ${theme.color.white};\n  }\n`\n\nexport const ListContacts = styled.div`\n  width: 80%;\n\n  ul {\n    width: 100%;\n    list-style-type: none;\n\n    li:first-child {\n      border-bottom: 2px solid ${theme.color.lightGray};\n      padding-bottom: 8px;\n\n      h2 {\n        font-size: 16px;\n        font-weight: bold;\n      }\n    }\n\n    li:nth-child(even) {\n      background: ${theme.color.lightGray};\n    }\n\n    li {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      padding: 8px;\n\n      h2 {\n        font-size: 16px;\n        font-weight: normal;\n      }\n    }\n  }\n\n`\n\nexport const Logout = styled.button`\n    height: 40px;\n    padding: 8px;\n    border: none;\n    border-radius: 5px;\n    color: ${theme.color.white};\n    background: ${theme.color.red};\n    margin-top: 12px;\n`","import React, { useState, useEffect, useRef } from 'react';\nimport ReactFileReader from 'react-file-reader'\n\nimport { Container, TemplateContainer, DropdownOpition, TemplateOpitionContainer, FooterContainer, ListContacts, OptionContainer, SendDropdown, Logout  } from './styles';\nimport { modelarMensagem } from '../../services/GeradorMensagemServico';\nimport { obterTokenUsuario, logout } from '../../services/Autenticacao';\nimport moment from 'moment';\nimport { useHistory } from 'react-router-dom';\n\n\nfunction Template() {\n  const [token, setToken] = useState()\n  const [showOpiton, setShowOption] = useState(true)\n  const [templates, setTemplates] = useState()\n  const [selectTemplate, setSelectTemplate] = useState()\n  const [celulares, setCelulares] = useState()\n  const [sendSuccess, setSendSuccess] = useState()\n  const [sendOption, setSendOption] = useState('0')\n  const [fileCSV, setFileCSV] = useState()\n  const [celularesCSV, setCelularesCSV] = useState()\n  const [parametrosCSV, setParametrosCSV] = useState()\n  const history = useHistory()\n\n\n\n  const fileInputRef = useRef()\n\n\n  useEffect(() => {\n    let _token = obterTokenUsuario()\n    setToken(_token)\n  },[])\n\n  useEffect(() => {\n    if(token){\n      obterTemplates()\n      obterCelulares()\n    }\n  }, [token])\n\n  const obterTemplates = async () => {\n    let cabecalho = new Headers();\n    cabecalho.append('Authorization', `Bearer ${token}` \n    );\n    cabecalho.append('Content-Type', 'application/json');\n\n    const detalhesChamada = {\n        method: 'GET',\n        headers: cabecalho,\n    }\n    let res = await fetch('http://34.217.148.38/template/', detalhesChamada);\n    \n    if (!res.ok) {\n        let erro = await res.json();\n        throw new Error(erro);\n    }\n    else {\n        let dados = await res.json();\n        console.log('dados', dados)\n        setTemplates(dados)\n        return dados;\n    }\n  }\n\n  const obterCelulares = async () => {\n    let cabecalho = new Headers();\n      cabecalho.append('Authorization', `Bearer ${token}` \n      );\n      cabecalho.append('Content-Type', 'application/json');\n\n    const detalhesChamada = {\n        method: 'GET',\n        headers: cabecalho,\n    }\n    let res = await fetch('http://34.217.148.38/celular/', detalhesChamada);\n    if (!res.ok) {\n        let erro = await res.json();\n        throw new Error(erro);\n    }\n    else {\n        let dados = await res.json();\n        setCelulares(dados)\n        console.log('dados', dados)\n        return dados;\n    }\n  }\n\n  const enviarMensagensCSV = async () => {\n    if(!fileCSV){\n      alert('Sem anexo csv')\n      return\n    }\n\n    if(!selectTemplate){\n      alert('Sem template selecionado')\n      return\n    }\n\n    let arrayCelularString = celularesCSV.map(celularCSV => celularCSV.toString())\n\n    let mensagens = []\n    for(let i = 0; i < celularesCSV.length ; i++){\n      let mensagem = modelarMensagem('template', arrayCelularString[i], selectTemplate._id, selectTemplate.conteudo, [] )\n      mensagens.push(mensagem)\n    }\n\n    console.log('mensagens', mensagens)\n\n    let dados = {\n      dados: mensagens\n  }\n\n    let cabecalho = new Headers();\n      cabecalho.append('Authorization', `Bearer ${token}` );\n      cabecalho.append('Content-Type', 'application/json');\n\n    let detalhesChamada = { \n      method: 'POST', \n      headers: cabecalho, \n      body: JSON.stringify(dados)\n    }  \n\n    let res = await fetch('http://34.217.148.38/mensagem/', detalhesChamada);\n\n    if (!res.ok) {\n        let erro = await res.json();\n        throw new Error(erro);\n    }\n    else {\n        let dados = await res.json();\n        console.log('dados', dados)\n        setSendSuccess(dados)\n        alert('Mensagens enviadas com sucesso')\n        return dados;\n    }\n  }\n\n  const enviarMensagens = async () => {\n    if(!selectTemplate){\n      alert('Sem template selecionado')\n      return\n    }\n\n    let divididoPor200 = celulares.length / 200\n\n    \n    let mensagens = []\n    for(let count = 0; count <= Math.round(divididoPor200) || 5 ; count++){\n      for(let i = 0; i <= 199; i++){\n        let mensagem = modelarMensagem('template', celulares[i].celular, selectTemplate._id, selectTemplate.conteudo, [] )\n        mensagens.push(mensagem)\n        \n        let dados = {\n            dados: mensagens\n        }\n    \n        let cabecalho = new Headers();\n        cabecalho.append('Authorization', `Bearer ${token}`);\n        cabecalho.append('Content-Type', 'application/json');\n        const detalhesChamada = {\n            method: 'POST',\n            headers: cabecalho,\n            body: JSON.stringify(dados)\n        }\n        let res = await fetch('http://34.217.148.38/mensagem/', detalhesChamada);\n        if (!res.ok) {\n            let erro = await res.json();\n            throw new Error(erro);\n        }\n        else {\n            let dados = await res.json();\n            console.log('dados', dados)\n            setSendSuccess(dados)\n            alert('Mensagens enviadas com sucesso')\n            return dados;\n        }\n      }\n    }\n\n}\n\nconst handleFiles = files => {\n  setFileCSV(files)\n  var reader = new FileReader();\n  let celulares = []\n  let parametros = []\n  reader.onload = function(e) {\n      // Use reader.result\n      let lines = reader.result.split(/\\r?\\n/)\n      lines.map(line => {\n        celulares.push(line.split(',', 1))\n      })\n      if(sendOption === '2'){\n        lines.map(line => {\n          parametros.push(line.split(/,(.+)/)[1])\n        })\n        console.log(parametros[0].split(','))\n        setParametrosCSV(parametros)\n      }\n      setCelularesCSV(celulares)\n  }\n\n  reader.readAsText(files[0]);\n}\n\nconst handleLogout = () => {\n  logout()\n  history.push('/');\n}\n\n\n  return (\n    <Container>\n      <h1>Template</h1>\n      <TemplateOpitionContainer>\n        <DropdownOpition onClick={() => setShowOption(!showOpiton)}>\n          <h2>Templates</h2>\n        </DropdownOpition>\n        {\n          showOpiton ? (\n            <div>\n              {\n                templates?.map(template => {\n                  return (\n                    <OptionContainer onClick={() => setSelectTemplate(template)}>\n                      <h2>{template.nome}</h2>\n                    </OptionContainer>\n                  )\n                })\n              }\n            </div>\n          ) : null\n        }\n      </TemplateOpitionContainer>\n      <TemplateContainer>\n        {\n          selectTemplate && <h2>{selectTemplate.conteudo}</h2>\n        }        \n      </TemplateContainer>\n      <SendDropdown>\n        <h2>Tipo do envio</h2>\n        <select onChange={e => setSendOption(e.target.value)}>\n          <option selected value=\"0\">Utilizar optins cadastrados</option>\n          <option value=\"1\">Utilizar optins personalizados</option>\n          <option value=\"2\">Template com parâmetros</option>\n        </select>\n      </SendDropdown>\n      <FooterContainer>\n        {\n          sendOption === '0' ? (\n            <button onClick={() => enviarMensagens()}>Enviar</button>\n          ) : (\n            <div>\n            <button onClick={() => enviarMensagensCSV()}>Enviar</button>\n            <ReactFileReader handleFiles={handleFiles} fileTypes={'.csv'}>\n              <button className='btn'>Anexar CSV</button>\n            </ReactFileReader>\n            {\n              fileCSV && <h2>{fileCSV.name}</h2>\n            }\n            </div>\n          )\n        }\n      </FooterContainer>\n      <ListContacts>\n        <ul>\n          <li>\n            <h2>Celular</h2>\n            <h2>Data Aceite</h2>\n          </li>\n          \n          {\n            sendOption !== '0' ? celularesCSV?.map(celular => {\n              var today = new Date();\n              var dd = String(today.getDate()).padStart(2, '0');\n              var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n              var yyyy = today.getFullYear();\n\n              today = mm + '/' + dd + '/' + yyyy;\n              return (\n                <li>\n                  <h2>{celular}</h2>\n                  <h2>{today}</h2>\n                  {\n                    parametrosCSV && parametrosCSV.map(parametroCSV => console.log(parametroCSV))\n                  }\n                </li>\n              )\n            }) : celulares?.slice(0, 199).map(({ celular, data_aceite}) => {\n              return (\n                <li>\n                  <h2>{celular}</h2>\n                  <h2>{data_aceite.substr(0, 10)}</h2>\n                </li>\n              )\n            })\n          }\n        </ul>\n      </ListContacts>\n      <Logout onClick={handleLogout}>Sair</Logout>\n    </Container>\n  );\n}\n\nexport default Template;","import Template from './Template'\n\nexport default Template","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport Login from './screens/Login'\nimport ReceivedMessages from './screens/ReceivedMessages'\nimport Template from './screens/Template'\n\nexport default function Routes() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path='/' exact component={Login}/>\n        <Route path='/received' component={ReceivedMessages}/>\n        <Route path='/template' component={Template}/>\n      </Switch>\n    </BrowserRouter>\n  );\n}","import { createGlobalStyle } from 'styled-components'\nimport { theme } from '../theme';\n\nexport default createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  html,body, #root {\n    min-height: 100%;\n  }\n\n  body {\n    background: ${theme.color.lightGray};\n    -webkit-font-smoothing: antialiased !important;\n   \n  }\n\n  body, input, button {\n    font-size: 14px;\n    font-family: Arial, Helvetica, sans-serif;\n  } \n\n  button {\n    cursor: pointer\n  }\n`;","import React from 'react';\nimport Routes from './routes';\n\nimport GlobalStyle from './styles/global'\n\nfunction App() {\n  return (\n    <>\n      <Routes />\n      <GlobalStyle />\n    </>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}