{"version":3,"sources":["API.js","services/Autenticacao.js","theme.js","screens/Login/styles.js","screens/Login/Login.js","screens/Login/index.js","screens/ReceivedMessages/ReceivedPrimary/styles.js","screens/ReceivedMessages/ReceivedPrimary/ReceivedPrimary.js","screens/ReceivedMessages/ReceivedPrimary/index.js","services/GeradorMensagemServico.js","screens/ReceivedMessages/ReceivedList/styles.js","screens/ReceivedMessages/ReceivedList/ReceivedList.js","screens/ReceivedMessages/ReceivedList/index.js","screens/ReceivedMessages/ReceivedListHeader/styles.js","screens/ReceivedMessages/ReceivedListHeader/ReceivedListHeader.js","screens/ReceivedMessages/ReceivedListHeader/index.js","screens/ReceivedMessages/styles.js","components/NavBar/styles.js","components/NavBar/Navbar.js","components/LoginAlert/styles.js","components/LoginAlert/index.js","components/LoginAlert/LoginAlert.js","screens/ReceivedMessages/ReceivedMessages.js","screens/ReceivedMessages/index.js","screens/Template/styles.js","screens/Template/Template.js","screens/Template/index.js","routes.js","styles/global.js","App.js","index.js"],"names":["baseUrl","login","key","senha","a","autenticacao","key_acesso","password","detalhesChamada","method","headers","body","JSON","stringify","fetch","res","ok","json","erro","Error","dados","Cookies","set","path","expires","obterTokenUsuario","usuario","getJSON","access_token","logout","remove","domain","theme","white","black","blue","green","red","lightGray","Gray","darkGray","Container","styled","div","LoginContainer","Login","useState","setKey","setSenha","history","useHistory","logarUsuario","e","preventDefault","push","alert","placeholder","onChange","target","value","name","type","onClick","Header","DataContainer","MessageContainer","CheckBoxContainer","SendContainer","ReceivedPrimary","data","token","checkedAll","setCheckedAll","message","setMessage","enviarMensagens","divididoPor200","length","mensagens","arrayIndex","count","Math","round","i","mensagem","tipo","celular","text","filterMensagens","filter","undefined","cabecalho","Headers","append","console","log","rows","icon","faPaperPlane","color","size","modelarMensagem","template","texto","parametros","props","isSended","SeeOldMessageButton","button","ModalContainer","ExternalMessage","InternalMessages","ModalSendMessageContainer","ModalSendContainer","customStyles","content","top","left","right","bottom","marginRight","transform","borderRadius","ReceivedList","modalIsOpen","setIsOpen","oldMessages","setOldMessages","setIsSended","obterRespostasUsuario","url","URL","Object","keys","forEach","searchParams","dadosReverse","reverse","id","currentLocalStorage","localStorage","getItem","setItem","isOpen","onRequestClose","style","map","oldMessage","origem","processada","substr","_id","faEye","ReceivedListHeader","Logout","LoginAlertContainer","ReloadContainer","ReloadButton","SearchContainer","NavButton","select","NavBar","index","setSelect","handlePress","LoginAlert","ReceivedMessages","setToken","tokenExpired","setTokenExpired","respostas","setRespostas","search","setSearch","searchData","setSearchData","enviadasId","setEnviadasId","useEffect","_token","refreshLocalStorare","obterRespostas","localDataArray","split","timeValidate","limitTime","moment","subtract","valueOf","dataTimeValidate","d","dataTime","utc","idValidate","some","envId","f","splice","indexOf","defaultOptions","loop","autoplay","animationData","rendererSettings","preserveAspectRatio","resposta","includes","handleSearch","faSearch","options","height","width","TemplateContainer","TemplateOpitionContainer","show","DropdownOpition","OptionContainer","SendDropdown","FooterContainer","ListContacts","Template","showOpiton","setShowOption","templates","setTemplates","selectTemplate","setSelectTemplate","celulares","setCelulares","setSendSuccess","sendOption","setSendOption","fileCSV","setFileCSV","celularesCSV","setCelularesCSV","parametrosCSV","setParametrosCSV","useRef","obterTemplates","obterCelulares","enviarMensagensCSV","arrayCelularString","celularCSV","toString","conteudo","nome","selected","handleFiles","files","reader","FileReader","onload","lines","result","line","readAsText","fileTypes","className","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","parametroCSV","slice","data_aceite","Routes","location","exact","component","createGlobalStyle","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3bada8f7.chunk.js","sourcesContent":["const baseUrl = 'http://34.217.148.38'\n\nconst domains = {\n  getAuth: `${baseUrl}/autenticacao/`,\n  getMensagem: `${baseUrl}/mensagem/`,\n  getMedia: `${baseUrl}/midia/`\n}\n\nexport default {\n  domains\n}","import { url_api } from './ApiServico';\nimport { domain } from '../API'\nimport Cookies from 'js-cookie';\n\n\nexport async function login(key, senha) {\n        let autenticacao = {\n            key_acesso: key,\n            password: senha\n        }\n\n        const detalhesChamada = {\n            method: 'POST',\n            headers: { \n                'Content-Type': 'application/json',\n                'Access-Control-Allow-Origin': '*'\n            },\n            body: JSON.stringify(autenticacao)\n        }\n\n        let res = await fetch('http://34.217.148.38/autenticacao/', detalhesChamada);\n\n        if (!res.ok) {\n            let erro = await res.json();\n            throw new Error(erro);\n        }\n        else {\n            let dados = await res.json();\n            Cookies.set('usuariogr',\n                JSON.stringify(dados),\n                {\n                    path: '',\n                    expires: 1/48,\n                }\n                );\n        }\n    }\n\n    \nexport function obterTokenUsuario() {\n        var usuario = Cookies.getJSON('usuariogr');\n        if (usuario) {\n            return usuario.access_token;\n        }\n    }\n\n\nexport function logout() {\n        Cookies.remove('usuariogr', { path: '', domain: 'domain.com' });\n    }\n\n","export const theme = {\n  color: {\n    white: '#FFFFFF',\n    black: '#000000',\n    blue: '#73BCFF',\n    green: '#0F9D58',\n    red: '#DB4437',\n    lightGray: '#EEEEEE',\n    Gray: '#666666',\n    darkGray: '#B3B3B3',\n  }\n}","import styled from 'styled-components'\nimport { theme } from '../../theme'\n\nexport const Container = styled.div`\n  display: flex;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin-top: 20%;\n`\n\nexport const LoginContainer = styled.div`\n  width: 300px;\n  background: ${theme.color.white};\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  h1 {\n    font-size: 24px;\n    color: #000;\n    font-family: Arial, Helvetica, sans-serif;\n    align-self: center;\n    margin-top: 12px;\n    margin-bottom: 12px;\n  }\n\n  input {\n    height: 40px;\n    width: 80%;\n    border: 2px solid ${theme.color.lightGray};\n    border-radius: 20px;\n    margin-bottom: 8px;\n    padding: 12px;\n  }\n\n  input:last-child {\n    -webkit-text-security: disc;\n    text-security: disc;\n  }\n\n  button {\n    background: #73BCFF;\n    border-radius: 25px;\n    height: 40px;\n    width: 100px;\n    margin-top: 12px;\n    color: ${theme.color.white};\n    font-weight: bold;\n    margin-bottom: 12px;\n    }\n`\n\n","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { login } from './../../services/Autenticacao';\n\nimport { Container, LoginContainer } from './styles';\n\nfunction Login() {\n  const [key, setKey ] = useState('')\n  const [senha, setSenha ] = useState('')\n  const history = useHistory();\n\n  const commonChange = (e) => {\n    this.setState({\n        [e.target.name]: e.target.value\n        //nao entendi o que seria isso.. mas devemos criar um use state para capturar isso\n    });\n  }\n\n  const commonChangeModal = (e) => {\n    this.setState({ Modal: { ...this.state.Modal, [e.target.name]: e.target.value } })\n  }\n\n  const logarUsuario = async (e) => {\n      e.preventDefault();\n\n      try {\n          await login(key, senha);\n          history.push('/template');\n      }\n      catch (error) {\n          return alert('Key ou senha inválidas')\n      }\n  }\n\n  return (\n    <Container>\n        <LoginContainer>\n          <h1>Login</h1>\n          <input \n            placeholder='Usuario'\n            onChange={e => setKey(e.target.value)}\n          />\n          <input\n            name=\"password\" \n            type=\"password\" \n            placeholder='Senha'\n            onChange={e => setSenha(e.target.value)}\n          />\n            <button \n              type=\"button\"\n              onClick={logarUsuario}  \n            >Entrar</button>\n        </LoginContainer>\n    </Container>\n  );\n}\n\nexport default Login;","import Login from './Login'\n\nexport default Login","import styled from 'styled-components'\nimport { theme } from '../../../theme'\n\nexport const Container = styled.div`\n  background: ${theme.color.white};\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  border-radius: 20px;\n  padding:  8px 16px 8px 16px;\n  margin: 8px 80px;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n  margin-bottom: 20px;\n  margin-top: 40px;\n  `\n\nexport const Header = styled.div`\n  width: 100%;\n  display: flex;\n  padding: 8px;\n`\n\nexport const DataContainer = styled.div`\n  width: 45%;\n  display: flex;\n  justify-content: center;\n  align-items: center; \n  border-right: 1px solid ${theme.color.lightGray};\n\n  h2 {\n    font-size: 20px;\n    color: #000;\n    text-align: center;\n    font-weight: normal;\n  }\n`\n\nexport const TypeContainer = styled.div`\n  width: 20%;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start; \n  flex-direction: column;\n  padding: 0 8px;\n  border-right: 1px solid ${theme.color.lightGray};\n\n\n  h2 {\n    font-size: 20px;\n    color: #000;\n    text-align: center;\n    font-weight: normal;\n    margin-bottom: 8px;\n    }\n\n  select {\n    height: 40px;\n    width: 90%;\n    background: ${theme.color.lightGray};\n    font-size: 16px;\n  }\n`\n\nexport const MessageContainer = styled.div`\n  width: 40%;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start; \n  flex-direction: column;\n  padding: 0 8px;\n  border-right: 1px solid ${theme.color.lightGray};\n\n  \n  h2 {\n    font-size: 20px;\n    color: #000;\n    text-align: center;\n    font-weight: normal;\n    margin-bottom: 8px;\n    }\n\n  textarea {\n    border: 1px solid ${theme.color.lightGray};\n    height: 70px;\n    width: 90%;\n    padding: 8px;\n    font-size: 16px;\n    margin: 0 20px;\n  }\n`\n\nexport const CheckBoxContainer = styled.div`\n  width: 7%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center; \n  border-right: 1px solid ${theme.color.lightGray};\n\n  h2 {\n    font-size: 20px;\n    color: #000;\n    text-align: center;\n    font-weight: normal;\n    margin-bottom: 30%;\n    }\n\n\n  input[type=\"checkbox\"] {\n    font-size: 30px;\n  }\n`\n\nexport const SendContainer = styled.div`\n  width: 10%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  h2 {\n    font-size: 20px;\n    color: #000;\n    text-align: center;\n    font-weight: normal;\n    margin-bottom: 30%;\n    }\n\n  button {\n    height: 50px;\n    width: 50px;\n    border-radius: 25px;\n    background: ${theme.color.green};\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n`\n","import React, { useState } from 'react';\nimport { faPaperPlane } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nimport { Container, Header, DataContainer, TypeContainer, MessageContainer, CheckBoxContainer, SendContainer } from './styles';\nimport { theme } from '../../../theme';\n\n\n\nfunction ReceivedPrimary({ data, token, checkedAll, setCheckedAll}) {\n  const [type, setType] = useState('text')\n  const [message, setMessage] = useState('')\n\n  const enviarMensagens = async () => {\n    if(!checkedAll){\n      alert('Check antes de enviar')\n      return\n    }\n  \n    let divididoPor200 = data.length / 200\n    let restoDivisao = data.length % 200\n\n    let mensagens = []\n    let arrayIndex = 0\n    for(let count = 1; count <= Math.round(divididoPor200); count++){\n      for(let i = 0; i <= 199; i++){\n          let mensagem = {\n            tipo: type,\n            celular: data[arrayIndex]?.celular,\n            text: message\n          }\n          mensagens.push(mensagem)\n          arrayIndex++\n      }\n\n      let filterMensagens = mensagens.filter(mensagem => {\n        if(mensagem.celular !== undefined) {\n          return mensagem\n        }\n      })\n\n\n\n      let dados = {\n          dados: filterMensagens\n      }\n      \n      let cabecalho = new Headers();\n      cabecalho.append('Authorization', `Bearer ${token}`);\n      cabecalho.append('Content-Type', 'application/json');\n      const detalhesChamada = {\n          method: 'POST',\n          headers: cabecalho,\n          body: JSON.stringify(dados)\n      }\n\n      console.log('enviei', count + 1)\n      mensagens = []\n\n      let res = await fetch('http:4.217.148.38/mensagem/', detalhesChamada);\n      if (!res.ok) {\n          let erro = await res.json();\n          throw new Error(erro);\n      }\n      else {\n          let dados = await res.json();\n          return dados;\n      }\n    }\n  }\n\n  return (\n    <Container>\n      <Header>\n        <DataContainer>\n          <h2>Enviar para todos os contatos</h2>\n        </DataContainer>\n        {/* <TypeContainer>\n          <h2>\n            Tipo\n          </h2>\n          <select onChange={e => setType(e.target.value)}>\n            <option value=\"text\">Texto</option>\n            <option value=\"image\">Imagem</option>\n            <option selected value=\"video\">Video</option>\n            <option value=\"audio\">Audio</option>\n            <option value=\"document\">Documento</option> \n          </select>\n        </TypeContainer> */}\n        <MessageContainer>\n          <h2>\n            Mensagem\n          </h2>\n          <textarea \n                placeholder='Texto'\n                value={message}\n                onChange={e => setMessage(e.target.value)}\n                rows={5}\n          />\n        </MessageContainer>\n        <CheckBoxContainer>\n          <h2>Check</h2>\n          <input \n          name=\"checkAll\"\n          type=\"checkbox\"\n          onClick={() => setCheckedAll(!checkedAll)}\n          />\n        </CheckBoxContainer>\n        <SendContainer>\n          <button onClick={() => enviarMensagens()}>\n            <FontAwesomeIcon icon={faPaperPlane} color={theme.color.white} size='lg'/>\n          </button>\n        </SendContainer>\n      </Header>\n    </Container>\n  );\n}\n\nexport default ReceivedPrimary;","import ReceivedPrimary from './ReceivedPrimary'\n\nexport default ReceivedPrimary","import { url_api , autenticar} from './ApiServico';\nimport {enviarMensagens, obterMensagens} from './MensagemServico'\n\n\nexport async function responder(skip) {\n    var msgs_respondidas = [];\n    var existe_storage = localStorage.getItem('mensagensRespondidas');\n    if(existe_storage){\n        msgs_respondidas = JSON.parse(sessionStorage.getItem('mensagensRespondidas'));\n    }\n    var msgs_nao_respondidas = []; \n    var dados = await obterMensagens('externa', null, skip);\n    dados.map((dado, index) => {\n        if(msgs_respondidas.findIndex(x => x == dado._id) == -1){\n            msgs_nao_respondidas.push(dado);\n        }\n    })\n\n    return msgs_nao_respondidas;\n}\n\nexport async function usuario(celular, skip) {\n    var dados = await obterMensagens(null, celular, skip);\n    return dados;\n}\n\nexport async function enviadas(skip) {\n    var dados = await obterMensagens('interna', null, skip);\n    return dados;\n}\n\nexport async function enviar(msgs){\n    var dados = await enviarMensagens(msgs);\n    return dados;\n}\n\nexport function salvarResposta(id) {\n    var existe_storage = localStorage.getItem('mensagensRespondidas');\n    if(existe_storage){\n        var msgs = JSON.parse(sessionStorage.getItem('mensagensRespondidas'));\n        msgs.ids.push(id);\n        localStorage.setItem('mensagensRespondidas', JSON.stringify(msgs));\n    }\n    else{\n        var msgs = {ids: [id]};\n        localStorage.setItem('mensagensRespondidas', JSON.stringify(msgs));\n    }\n}\n\nexport function modelarMensagem(tipo, celular, template, texto, parametros) {\n    var obj = {\n        'tipo': tipo,\n        'celular': celular,\n        'template': template,\n        'texto': texto,\n        //'midia': midia,\n        'parametros': parametros\n    }\n    \n    return obj;\n}\n","import styled from 'styled-components'\nimport { theme } from '../../../theme'\n \nexport const Container = styled.div`\n  background: ${props => props.isSended ? theme.color.Gray : theme.color.white};\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  border-radius: 10px;\n  padding:  8px 16px 8px 16px;\n  margin: 8px 80px;\n  color: ${props => props.isSended ? theme.color.white : theme.color.black};\n`\n\nexport const DataContainer = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  justify-content: space-between;\n\n  div:nth-child(1n) {\n    width: 23%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div:nth-child(2n) {\n    width: 15%;\n    display: flex;\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div:nth-child(3n) {\n    width: 10%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div:nth-child(4n) {\n    width: 250px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div:nth-child(5n) {\n    width: 120px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div {\n    padding: 0 8px;\n \n    border-right: 1px solid ${theme.color.lightGray};\n\n    h2 {\n      font-size: 16px;\n      font-weight: normal;\n      text-align: center;\n    }\n  }\n`\n\nexport const TypeContainer = styled.div`\n  width: 20%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  select {\n    height: 40px;\n    width: 80%;\n    background: ${theme.color.lightGray};\n    font-size: 16px;\n  }\n`\n\nexport const MessageContainer = styled.div`\n  width: 30%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  input {\n    border: 1px solid ${theme.color.lightGray};\n    height: 50px;\n    width: 90%;\n    padding: 8px;\n  }\n`\n\nexport const CheckBoxContainer = styled.div`\n  width: 10%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  input[type=\"checkbox\"] {\n    font-size: 30px;\n  }\n`\n\nexport const SendContainer = styled.div`\n  width: 10%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  button {\n    height: 50px;\n    width: 50px;\n    border-radius: 25px;\n    border: none;\n    background: ${theme.color.green};\n  }\n`\n\nexport const SeeOldMessageButton = styled.button`\n  background: none;\n  border: none;\n  padding: 0 8px;\n`\n\nexport const ModalContainer = styled.div`\n  min-width: 300px;\n  max-width: 400px;\n  max-height: 500px;\n  background: ${theme.color.white};\n  overflow-y: scroll;\n\n  span {\n    color: ${theme.color.green};\n    font-size: 14px;\n  }\n`\n\nexport const ExternalMessage = styled.div`\n  background: ${theme.color.lightGray};\n  border-radius: 10px;\n  padding: 12px 8px;\n  margin: 8px 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  \n  h2 {\n    width:70%;\n    color: ${theme.color.black};\n    font-size: 16px;\n    font-weight: normal;\n  }\n\n  h2:nth-child(2n) {\n    width: 90px;\n    margin-left: 12px;\n  }\n`\n\nexport const InternalMessages = styled.div`\n  background: ${theme.color.green};\n  border-radius: 10px;\n  padding: 12px 8px;\n  margin: 8px 0;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n\n  h2 {\n    color: ${theme.color.white};\n    text-align: right;\n    font-size: 16px;\n    font-weight: normal;\n  }\n`\n\n\nexport const ModalSendMessageContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-bottom: 8px; \n\n  textarea {\n    border: 1px solid ${theme.color.lightGray};\n    height: 70px;\n    width: 80%;\n    padding: 8px;\n    font-size: 16px;\n  }\n`\n\nexport const ModalSendContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  button {\n    height: 50px;\n    width: 50px;\n    border-radius: 25px;\n    border: none;\n    background: ${theme.color.green};\n  }\n`","import React, { useEffect, useState } from 'react';\nimport { faPaperPlane, faEye } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { modelarMensagem } from '../../../services/GeradorMensagemServico'\nimport Modal from 'react-modal';\n\nimport { Container, DataContainer, TypeContainer, MessageContainer, CheckBoxContainer, SendContainer, SeeOldMessageButton, ModalContainer, ExternalMessage, InternalMessages, ModalSendContainer, ModalSendMessageContainer } from './styles';\nimport { theme } from '../../../theme';\n\n\nconst customStyles = {\n  content : {\n    top                   : '50%',\n    left                  : '50%',\n    right                 : 'auto',\n    bottom                : 'auto',\n    marginRight           : '-50%',\n    transform             : 'translate(-50%, -50%)',\n    borderRadius          : '20px'\n  }\n};\n\nfunction ReceivedList({ data, token }) {\n  const [type, setType] = useState('text')\n  const [message, setMessage] = useState('')\n  const [isChecked, setIsChecked] = useState(false)\n  const [modalIsOpen,setIsOpen] = useState(false)\n  const [oldMessages, setOldMessages] = useState()\n  const [isSended,setIsSended] = useState(false)\n\n  function closeModal(){\n    setIsOpen(false);\n  }\n\n  function openModal(){\n    setIsOpen(!modalIsOpen);\n    obterRespostasUsuario()\n  }\n\n  const obterRespostasUsuario = async () => {\n    let parametros = {\n        celular: data.celular,\n    }\n    var url = new URL('http://34.217.148.38/mensagem/');\n    Object.keys(parametros).forEach(key => url.searchParams.append(key, parametros[key]));\n    \n    let cabecalho = new Headers();\n    cabecalho.append('Authorization', `Bearer ${token}`);\n    cabecalho.append('Content-Type', 'application/json');\n    \n    const detalhesChamada = {\n        method: 'GET',\n        headers: cabecalho,\n    }\n\n    let res = await fetch(url, detalhesChamada);\n    if (!res.ok) {\n        let erro = await res.json();\n        throw new Error(erro);\n    }\n    else {\n        let dados = await res.json();\n        let dadosReverse = dados.reverse()\n        setOldMessages(dadosReverse)\n        return dados;\n    }\n  }\n\n  const enviarMensagens = async ( id, tipo, celular, text ) => {\n    if(!message) {\n        alert('Escreva alguma mensagem antes de enviar')\n      return\n    };\n\n    let mensagem = {\n        'tipo': tipo,\n        'celular': celular,\n        'texto': text,\n    }\n    let dados = {\n        dados: [mensagem]\n    }\n    let cabecalho = new Headers();\n    cabecalho.append('Authorization', `Bearer ${token}`);\n    cabecalho.append('Content-Type', 'application/json');\n\n    const detalhesChamada = {\n        method: 'POST',\n        headers: cabecalho,\n        body: JSON.stringify(dados)\n    }\n    let res = await fetch('http://34.217.148.38/mensagem/', detalhesChamada);\n    if (!res.ok) {\n        let erro = await res.json();\n        throw new Error(erro);\n    }\n    else {\n        let dados = await res.json();\n        setIsSended(true)\n        setMessage('')\n        let currentLocalStorage = []\n        currentLocalStorage.push(localStorage.getItem('enviadas'))\n        if(currentLocalStorage === null) {\n          currentLocalStorage = []\n        }\n        currentLocalStorage.push(id)\n        localStorage.setItem('enviadas', currentLocalStorage)\n        return dados;\n    }\n  }\n\n  return (\n    <Container isSended={isSended}>\n       <Modal\n          isOpen={modalIsOpen}\n          onRequestClose={closeModal}\n          style={customStyles}\n        >\n          <ModalContainer>\n            {\n              oldMessages?.map(oldMessage => {\n                if(oldMessage.origem === 'externa') {\n                  return (\n                    <ExternalMessage>\n                      <h2>{oldMessage.texto}</h2>\n                      <h2>{oldMessage.processada.substr(0, 10)}</h2>\n                    </ExternalMessage>\n                  )\n                } else if (oldMessage.origem === 'interna') {\n                  return (\n                    <InternalMessages>\n                      <h2>{oldMessage.texto}</h2>\n                    </InternalMessages>\n                  )\n                }\n              })\n            }\n            <ModalSendMessageContainer>\n              <textarea \n                placeholder='Texto'\n                value={message}\n                onChange={e => setMessage(e.target.value)}\n                rows={5}\n              />\n              <ModalSendContainer>\n                <button onClick={() => enviarMensagens(data._id, type, data.celular, message)}>\n                  <FontAwesomeIcon icon={faPaperPlane} color={theme.color.white} size='lg'/>\n                </button>\n              </ModalSendContainer>\n            </ModalSendMessageContainer>\n            {\n              isSended && <span>Mensagem enviada com sucesso!</span>\n            }\n          </ModalContainer>\n        </Modal>\n      <DataContainer>\n        <div>\n          <h2>{data.celular}</h2>\n        </div>\n        <div>\n          <h2>{data.origem}</h2>\n        </div>\n        <div>\n          <h2>{data.tipo}</h2>\n        </div>\n        <div>\n          <h2>{data.texto}</h2>\n        </div>\n        <div>\n          <h2>{data.processada.substr(0, 10)}</h2>\n        </div>\n      </DataContainer>\n      <SeeOldMessageButton onClick={() => openModal()}>\n        <FontAwesomeIcon icon={faEye} color={theme.color.blue} size='2x'/>\n      </SeeOldMessageButton>\n      {/* <TypeContainer>\n        <select onChange={e => setType(e.target.value)}>\n          <option selected value=\"text\">Texto</option>\n          <option value=\"Imagem\">Imagem</option>\n          <option value=\"Video\">Video</option>\n          <option value=\"Audio\">Audio</option>\n          <option value=\"Documento\">Documento</option>\n        </select>\n      </TypeContainer>\n      <MessageContainer>\n        <input \n          placeholder='Texto'\n          onChange={e => setMessage(e.target.value)}\n        />\n      </MessageContainer>\n      <CheckBoxContainer>\n          <input \n          name=\"check\"\n          type=\"checkbox\"\n          onClick={() => setIsChecked(!isChecked)}\n          />\n        </CheckBoxContainer>\n        <SendContainer>\n          <button onClick={() => enviarMensagens(type, data.celular, message)}>\n            <FontAwesomeIcon icon={faPaperPlane} color={theme.color.white} size='lg'/>\n          </button>\n        </SendContainer> */}\n    </Container>\n  );\n}\n\nexport default ReceivedList;","import ReceivedList from './ReceivedList'\n\nexport default ReceivedList","import styled from 'styled-components'\nimport { theme } from '../../../theme'\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin: 8px 80px;\n  padding: 0 8px;\n`\nexport const DataContainer = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  justify-content: flex-start;\n\n  div:nth-child(1n) {\n    width: 22%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div:nth-child(2n) {\n    width: 20%;\n    display: flex;\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div:nth-child(3n) {\n    width: 15%;\n    justify-content: center;\n    align-items: center;\n  }\n\n  div:nth-child(4n) {\n    width: 25%;\n  }\n\n  div:nth-child(5n) {\n    width: 10%;\n  }\n\n    h2 {\n      font-size: 16px;\n      font-weight: bold;\n      text-align: center;\n    }\n`\n\n\nexport const TypeContainer = styled.div`\n    width: 300px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    h2 {\n      font-size: 16px;\n      font-weight: bold;\n      text-align: center;\n    }\n`\n\nexport const MessageContainer = styled.div`\n  width: 450px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n      \n      h2 {\n        font-size: 16px;\n      font-weight: bold;\n      text-align: center;\n      }\n`\n\nexport const CheckBoxContainer = styled.div`\n  width: 10%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n      \n\n      h2 {\n        font-size: 16px;\n      font-weight: bold;\n      text-align: center;\n      }\n`\n\nexport const SendContainer  = styled.div`\n  width: 10%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n     \n\n      h2 {\n        font-size: 16px;\n      font-weight: bold;\n      text-align: center;\n      }\n`\n","import React from 'react';\n\nimport { Container, DataContainer, TypeContainer, MessageContainer, CheckBoxContainer, SendContainer } from './styles';\n\nfunction ReceivedListHeader() {\n  return (\n    <Container>\n      <DataContainer>\n        <div>\n          <h2>ID</h2>\n        </div>\n        <div>\n          <h2>Origem</h2>\n        </div>\n        <div>\n          <h2>Tipo</h2>\n        </div>\n        <div>\n          <h2>Ultima Mensagem</h2>\n        </div>\n        <div>\n          <h2>Data</h2>\n        </div>\n      </DataContainer>\n      {/* <TypeContainer>\n          <h2>Tipo</h2>\n      </TypeContainer>\n      <MessageContainer>\n          <h2>Mensagem</h2>\n      </MessageContainer>\n      <CheckBoxContainer>\n          <h2>Check</h2>\n      </CheckBoxContainer>\n      <SendContainer>\n          <h2>Enviar</h2>\n      </SendContainer> */}\n    </Container>\n  );\n}\n\nexport default ReceivedListHeader;","import ReceivedListHeader from './ReceivedListHeader'\n\nexport default ReceivedListHeader","import styled from 'styled-components'\nimport { theme } from '../../theme'\n\nexport const Container = styled.div`\n  min-width: 100%;\n`\n\nexport const PaginationContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n\n  button {\n    width: 30px;\n    height: 30px;\n    border-radius: 20px;\n  }\n\n  h2 {\n    font-size: 18px;\n    margin: 0 8px;\n  }\n`\n\nexport const Logout = styled.button`\n  height: 40px;\n  padding: 8px;\n  border: none;\n  border-radius: 5px;\n  color: ${theme.color.white};\n  background: ${theme.color.red};\n  margin-top: 12px;\n`\n\nexport const LoginAlertContainer = styled.div`\n  display: flex;\n  flex: 1;\n  width: 100%;\n  justify-content: center;\n`\n\nexport const ReloadContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  padding: 0 80px;\n`\n\nexport const ReloadButton = styled.button`\n  background: ${theme.color.blue};\n  padding: 12px 20px;\n  margin: 8px 0;\n  color: ${theme.color.white};\n  font-weight: bold;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n`\n\nexport const SearchContainer = styled.div`\n  display: flex;\n\n  input {\n    width: 300px;\n    border: none;\n    border-radius: 10px 0 0 10px;\n    padding: 0 20px;\n    font-size: 18px;\n  }\n\n  button {\n    background: ${theme.color.blue};\n    padding: 12px 24px;\n    border: none;\n    border-radius: 0 10px 10px 0;\n    cursor: pointer;\n  }\n`","import styled from  'styled-components'\nimport { theme } from '../../theme'\n\nexport const Container = styled.div`\n  width: 100%;\n  height: 70px;\n  background: ${theme.color.white};\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  div{\n    width: 80%;\n    max-width: 700px;\n    display: flex;\n    flex-direction: row;\n  }\n`\n\nexport const NavButton = styled.button`\n  background: none;\n  border: none;\n  margin-right: 40px;\n\n  h2{\n        font-size: 18px;\n        font-weight: ${props => props.select ? 'bold' : 'normal' };\n      }\n`","import React, { useState } from 'react';\n\nimport { Container, NavButton } from './styles';\nimport { useHistory } from 'react-router-dom';\n\nfunction NavBar({ index }) {\n  const [select, setSelect] = useState(index)\n  const history = useHistory();\n\n  const handlePress = (index) => {\n    setSelect(index)\n    index === 1 ? history.push('/template') : history.push('/received');\n  } \n\n\n\n  return (\n    <Container>\n      <div>\n        <NavButton onClick={() => handlePress(1)} select={select === 1}>\n          <h2>Enviar mensagem</h2>\n        </NavButton>\n        <NavButton onClick={() => handlePress(2)} select={select === 2}>\n          <h2>Responder mensagem</h2>\n        </NavButton>\n      </div>\n    </Container>\n  )\n}\n\nexport default NavBar;","import styled from 'styled-components'\nimport { theme } from '../../theme'\n\nexport const Container = styled.div`\n  height: 200px;\n  width: 400px;\n  background: ${theme.color.white};\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 20px;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n  margin-top: 40px;\n\n  h1 {\n    font-size: 24px;\n    font-weight: bold;\n    margin-bottom: 20px;\n  }\n\n  h2 {\n    font-size: 18px;\n    font-weight: normal;\n    text-align: center;\n    margin-bottom: 20px;\n  }\n\n  button {\n    background: ${theme.color.red};\n    padding: 12px;\n    border: none;\n    border-radius: 5px;\n    color: ${theme.color.white};\n    font-weight: bold;\n    cursor: pointer;\n  }\n`","import LoginAlert from './LoginAlert'\n\nexport default LoginAlert","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { Container } from './styles';\n\nconst LoginAlert = () => {\n  const history = useHistory();\n  return (\n    <Container>\n      <h1>Seu Login Inspirou</h1>\n      <h2>Por favor faça o login novamente para continnuar navegando</h2>\n      <button onClick={() => history.push('/') }>Ir para o Login</button>\n    </Container>\n  );\n}\n\nexport default LoginAlert;","import React, { useEffect, useState } from 'react';\nimport ReceivedPrimary from './ReceivedPrimary'\nimport ReceivedList from './ReceivedList'\nimport ReceivedListHeader from './ReceivedListHeader'\nimport { url_api, autenticar } from '../../services/ApiServico'\nimport Lottie from 'react-lottie'\nimport animationData from '../../assets/loading.json'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\n\n\nimport { Container, Logout, LoginAlertContainer, ReloadButton, ReloadContainer, SearchContainer } from './styles';\nimport { obterMensagens } from '../../services/MensagemServico';\nimport NavBar from '../../components/NavBar/Navbar';\nimport { obterTokenUsuario, logout } from '../../services/Autenticacao';\nimport { useHistory } from 'react-router-dom';\nimport moment from 'moment';\nimport LoginAlert from '../../components/LoginAlert';\nimport { theme } from '../../theme';\n\nfunction ReceivedMessages() {\n  const [token, setToken] = useState()\n  const [tokenExpired, setTokenExpired] = useState(false)\n  const [respostas, setRespostas] = useState()\n  const [checkedAll, setCheckedAll] = useState()\n  const [search, setSearch] = useState()\n  const [searchData, setSearchData] = useState()\n  const [enviadasId, setEnviadasId] = useState()\n  const history = useHistory()\n\n  useEffect(() => {\n    let _token = obterTokenUsuario()\n    setToken(_token)\n    refreshLocalStorare()\n  },[])\n\n  useEffect(() => {\n    if(token === undefined){\n      setTokenExpired(true)\n    }\n    if(token){\n      setTokenExpired(false)\n      obterRespostas()\n    }\n  }, [token])\n\n  const refreshLocalStorare = () => {\n    let localDataString = localStorage.getItem('enviadas')\n    let localDataArray = localDataString.split(',')\n    setEnviadasId(localDataArray)\n  }\n\n  const obterRespostas = async () => {\n    let parametros = {\n        origem: 'externa'\n    }\n    var url = new URL('http://34.217.148.38/mensagem/');\n    Object.keys(parametros).forEach(key => url.searchParams.append(key, parametros[key]));\n\n    let cabecalho = new Headers();\n    cabecalho.append('Authorization', `Bearer ${token}` );\n    cabecalho.append('Content-Type', 'application/json');\n    \n    const detalhesChamada = {\n        method: 'GET',\n        headers: cabecalho,\n    }\n\n    let res = await fetch(url, detalhesChamada);\n    \n    if (!res.ok) {\n        let erro = await res.json();\n        throw new Error(erro);\n    }\n    else {\n        let dados = await res.json();\n        timeValidate(dados)\n        return dados;\n    }\n}\n\nconst timeValidate = (data) => {\n  let limitTime = moment().subtract(1, 'day').valueOf()\n  const dataTimeValidate = data.filter(d => {\n    let dataTime = moment.utc(d.processada, 'DD-MM-YYYYTHH:mm:ss:SSSSSS').valueOf()\n    let isInTime = limitTime < dataTime\n    if(isInTime){\n      return d\n    }\n  })\n  idValidate(dataTimeValidate)\n}\n\nconst idValidate = (data) => {\n  refreshLocalStorare()\n  let found = data.filter(d => enviadasId.some(envId => envId === d._id))\n  found.map(f => data.splice(data.indexOf(f), 1))\n  setRespostas(data)\n}\n\nconst handleLogout = () => {\n  logout()\n  history.push('/');\n}\n\nconst defaultOptions = {\n  loop: true,\n  autoplay: true, \n  animationData: animationData,\n  rendererSettings: {\n    preserveAspectRatio: 'xMidYMid slice'\n  }\n};\n\n  const reloadList = () => {\n    setRespostas()\n    obterRespostas()\n  }\n\n  const handleSearch = () => {\n    let res = respostas.filter(resposta => {\n      return resposta.celular.includes(search)\n    })\n\n    setSearchData(res)\n  }\n  \n\n  return (\n    <>\n    <NavBar  index={2}/>\n    {\n      tokenExpired ? (\n        <LoginAlertContainer>\n          <LoginAlert/>\n        </LoginAlertContainer>\n      ) : (\n        <Container>\n          <ReceivedPrimary data={respostas} token={token} setCheckedAll={setCheckedAll} checkedAll={checkedAll} />\n          {\n            respostas ? (\n              <>\n              <ReloadContainer>\n                <SearchContainer>\n                  <input \n                    placeholder='Pesquisar telefone'\n                    onChange={e => setSearch(e.target.value)}\n                  />\n                  <button onClick={() => handleSearch()}>\n                    <FontAwesomeIcon icon={faSearch} color={theme.color.white} size='lg'/>\n                  </button>\n                </SearchContainer>\n                <ReloadButton onClick={() => reloadList()}>Atualizar Lista</ReloadButton>\n              </ReloadContainer>\n              <ReceivedListHeader />\n              </>\n            ) : (\n              <Lottie \n                options={defaultOptions}\n                height={400}\n                width={400}\n              />\n            )\n          }\n          {\n            searchData ? \n              searchData?.map(d => <ReceivedList key={d._id} data={d} token={token}/>) \n              :\n              respostas?.map(d => <ReceivedList key={d._id} data={d} token={token}/>)\n          }\n          {/* <PaginationContainer>\n            <button >{'<'}</button>\n            <h2>1</h2>\n            <button >{'>'}</button>\n          </PaginationContainer> */}\n          <Logout onClick={handleLogout}>Sair</Logout>\n        </Container>\n      )\n    }\n    </>\n  );\n}\n\nexport default ReceivedMessages;\n\n\n","import ReceivedMessages from './ReceivedMessages'\n\nexport default ReceivedMessages","import styled from 'styled-components'\nimport { theme } from '../../theme'\n\nexport const Container = styled.div`\n  background: ${theme.color.white};\n  border-radius: 20px;\n  max-width: 700px;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n  padding: 30px;\n  margin: 80px auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  h1 {\n    font-size: 24px;\n    color: #000;\n    font-family: Arial, Helvetica, sans-serif;\n    margin-bottom: 20px;\n  }\n\n  h2 {\n    font-size: 20px;\n    color: #000;\n    font-family: Arial, Helvetica, sans-serif;\n  }\n`\n\nexport const TemplateContainer = styled.div`\n  display: flex;\n  background: ${theme.color.white};\n  height: 150px;\n  width: 80%;\n  border: 2px solid ${theme.color.lightGray};\n  border-radius: 20px;\n  margin-bottom: 20px;\n  margin-top: 40px;\n  padding: 20px;\n  justify-content: center;\n  align-items: center;\n\n  h2 {\n    font-size: 16px;\n    font-weight: normal;\n  }\n\n`\n\nexport const TemplateOpitionContainer = styled.div`\n  width: 80%;\n\n  div {\n     div{\n      opacity: ${props => props.show ? 0 : 1};\n      padding-left: 8px;\n      margin: 8px 0;\n\n        h2 {\n          font-size: 14px;\n          font-weight: normal;\n        }\n     }\n  }\n`\n\nexport const DropdownOpition = styled.button`\n  width: 100%;\n  border: none;\n  border-bottom: 2px solid ${theme.color.lightGray};\n  padding-bottom: 8px;\n  display: flex;\n  align-items: flex-start;\n`\n\nexport const OptionContainer = styled.button`\n  background: none;\n  border: none;\n  padding: 8px;\n\n  h2 {\n        font-size: 16px;\n        font-weight: normal;\n      }\n`\n\nexport const SendDropdown = styled.div`\n  width: 80%;\n  border-bottom: 2px solid ${theme.color.lightGray};\n  padding-bottom: 20px;\n  margin-bottom: 20px;\n\n  h2 {\n        font-size: 16px;\n        font-weight: bold;\n        margin-bottom: 12px;\n      }\n\n  select {\n    height: 40px;\n    width: 50%;\n    background: ${theme.color.lightGray};\n    font-size: 16px;\n  }\n`\n\nexport const FooterContainer = styled.div`\n\n  div {\n    display: flex;\n  }\n  \n  button:nth-child(1n) {\n    background: ${theme.color.green};\n    margin-right: 12px;\n  }\n\n  button:nth-child(2n) {\n    background: ${theme.color.blue};\n  }\n\n  button {\n    height: 40px;\n    padding: 8px;\n    border: none;\n    border-radius: 5px;\n    color: ${theme.color.white};\n  }\n`\n\nexport const ListContacts = styled.div`\n  width: 80%;\n\n  ul {\n    width: 100%;\n    list-style-type: none;\n\n    li:first-child {\n      border-bottom: 2px solid ${theme.color.lightGray};\n      padding-bottom: 8px;\n\n      h2 {\n        font-size: 16px;\n        font-weight: bold;\n      }\n    }\n\n    li:nth-child(even) {\n      background: ${theme.color.lightGray};\n    }\n\n    li {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      padding: 8px;\n\n      h2 {\n        font-size: 16px;\n        font-weight: normal;\n      }\n    }\n  }\n\n`\n\nexport const LogoutContainer = styled.div`\n  position: absolute;\n`\n\nexport const Logout = styled.button`\n    height: 40px;\n    padding: 8px;\n    border: none;\n    border-radius: 5px;\n    color: ${theme.color.white};\n    background: ${theme.color.red};\n    margin-top: 12px;\n`\n\nexport const LoginAlertContainer = styled.div`\n  display: flex;\n  flex: 1;\n  width: 100%;\n  justify-content: center;\n`\n","import React, { useState, useEffect, useRef } from 'react';\nimport ReactFileReader from 'react-file-reader'\n\nimport { Container, TemplateContainer, DropdownOpition, TemplateOpitionContainer, FooterContainer, ListContacts, OptionContainer, SendDropdown, Logout, LoginAlertContainer } from './styles';\nimport { modelarMensagem } from '../../services/GeradorMensagemServico';\nimport { obterTokenUsuario, logout } from '../../services/Autenticacao';\nimport moment from 'moment';\nimport { useHistory } from 'react-router-dom';\nimport NavBar from '../../components/NavBar/Navbar';\nimport Lottie from 'react-lottie'\nimport animationData from '../../assets/loading.json'\nimport LoginAlert from '../../components/LoginAlert';\n\n\nfunction Template() {\n  const [token, setToken] = useState()\n  const [tokenExpired, setTokenExpired] = useState(false)\n  const [showOpiton, setShowOption] = useState(true)\n  const [templates, setTemplates] = useState()\n  const [selectTemplate, setSelectTemplate] = useState()\n  const [celulares, setCelulares] = useState()\n  const [sendSuccess, setSendSuccess] = useState()\n  const [sendOption, setSendOption] = useState('0')\n  const [fileCSV, setFileCSV] = useState()\n  const [celularesCSV, setCelularesCSV] = useState()\n  const [parametrosCSV, setParametrosCSV] = useState()\n  const history = useHistory()\n\n  const fileInputRef = useRef()\n\n\n  useEffect(() => {\n    let _token = obterTokenUsuario()\n    setToken(_token)\n  },[])\n\n  useEffect(() => {\n    if(token === undefined){\n      setTokenExpired(true)\n    }\n    if(token){\n      setTokenExpired(false)\n      obterTemplates()\n      obterCelulares()\n    }\n  }, [token])\n\n  const obterTemplates = async () => {\n    let cabecalho = new Headers();\n    cabecalho.append('Authorization', `Bearer ${token}` \n    );\n    cabecalho.append('Content-Type', 'application/json');\n\n    const detalhesChamada = {\n        method: 'GET',\n        headers: cabecalho,\n    }\n    let res = await fetch('http://34.217.148.38/template/', detalhesChamada);\n    \n    if (!res.ok) {\n        let erro = await res.json();\n        throw new Error(erro);\n    }\n    else {\n        let dados = await res.json();\n        setTemplates(dados)\n        return dados;\n    }\n  }\n\n  const obterCelulares = async () => {\n    let cabecalho = new Headers();\n      cabecalho.append('Authorization', `Bearer ${token}` \n      );\n      cabecalho.append('Content-Type', 'application/json');\n\n    const detalhesChamada = {\n        method: 'GET',\n        headers: cabecalho,\n    }\n    let res = await fetch('http://34.217.148.38/celular/', detalhesChamada);\n    if (!res.ok) {\n        let erro = await res.json();\n        throw new Error(erro);\n    }\n    else {\n        let dados = await res.json();\n        setCelulares(dados)\n        return dados;\n    }\n  }\n\n  const enviarMensagensCSV = async () => {\n    if(!fileCSV){\n      alert('Sem anexo csv')\n      return\n    }\n\n    if(!selectTemplate){\n      alert('Sem template selecionado')\n      return\n    }\n\n    let arrayCelularString = celularesCSV.map(celularCSV => celularCSV.toString())\n\n    let mensagens = []\n    for(let i = 0; i < celularesCSV.length ; i++){\n      let mensagem = modelarMensagem('template', arrayCelularString[i], selectTemplate._id, selectTemplate.conteudo, [] )\n      mensagens.push(mensagem)\n    }\n\n\n    let dados = {\n      dados: mensagens\n  }\n\n    let cabecalho = new Headers();\n      cabecalho.append('Authorization', `Bearer ${token}` );\n      cabecalho.append('Content-Type', 'application/json');\n\n    let detalhesChamada = { \n      method: 'POST', \n      headers: cabecalho, \n      body: JSON.stringify(dados)\n    }  \n\n    let res = await fetch('http://34.217.148.38/mensagem/', detalhesChamada);\n\n    if (!res.ok) {\n        let erro = await res.json();\n        throw new Error(erro);\n    }\n    else {\n        let dados = await res.json();\n        setSendSuccess(dados)\n        alert('Mensagens enviadas com sucesso')\n        return dados;\n    }\n  }\n\n  const enviarMensagens = async () => {\n    if(!selectTemplate){\n      alert('Sem template selecionado')\n      return\n    }\n\n    let divididoPor200 = celulares.length / 200\n\n    \n    let mensagens = []\n    for(let count = 0; count <= Math.round(divididoPor200) || 5 ; count++){\n      for(let i = 0; i <= 199; i++){\n        let mensagem = modelarMensagem('template', celulares[i].celular, selectTemplate._id, selectTemplate.conteudo, [] )\n        mensagens.push(mensagem)\n        \n        let dados = {\n            dados: mensagens\n        }\n    \n        let cabecalho = new Headers();\n        cabecalho.append('Authorization', `Bearer ${token}`);\n        cabecalho.append('Content-Type', 'application/json');\n        const detalhesChamada = {\n            method: 'POST',\n            headers: cabecalho,\n            body: JSON.stringify(dados)\n        }\n        let res = await fetch('http://34.217.148.38/mensagem/', detalhesChamada);\n        if (!res.ok) {\n            let erro = await res.json();\n            throw new Error(erro);\n        }\n        else {\n            let dados = await res.json();\n            setSendSuccess(dados)\n            alert('Mensagens enviadas com sucesso')\n            return dados;\n        }\n      }\n    }\n\n}\n\nconst handleFiles = files => {\n  setFileCSV(files)\n  var reader = new FileReader();\n  let celulares = []\n  let parametros = []\n  reader.onload = function(e) {\n      // Use reader.result\n      let lines = reader.result.split(/\\r?\\n/)\n      lines.map(line => {\n        celulares.push(line.split(',', 1))\n      })\n      if(sendOption === '2'){\n        lines.map(line => {\n          parametros.push(line.split(/,(.+)/)[1])\n        })\n        console.log(parametros[0].split(','))\n        setParametrosCSV(parametros)\n      }\n      setCelularesCSV(celulares)\n  }\n\n  reader.readAsText(files[0]);\n}\n\nconst handleLogout = () => {\n  logout()\n  history.push('/');\n}\n\nconst defaultOptions = {\n  loop: true,\n  autoplay: true, \n  animationData: animationData,\n  rendererSettings: {\n    preserveAspectRatio: 'xMidYMid slice'\n  }\n};\n\n\n  return (\n    <>\n    <NavBar index={1}/>\n    {\n      tokenExpired ? (\n        <LoginAlertContainer>\n          <LoginAlert/>\n        </LoginAlertContainer>\n      ) : (\n        <Container>\n          <h1>Template</h1>\n          <TemplateOpitionContainer>\n            <DropdownOpition onClick={() => setShowOption(!showOpiton)}>\n              <h2>Templates</h2>\n            </DropdownOpition>\n            {\n              showOpiton ? (\n                <div>\n                  {\n                    templates?.map(template => {\n                      return (\n                        <OptionContainer onClick={() => setSelectTemplate(template)}>\n                          <h2>{template.nome}</h2>\n                        </OptionContainer>\n                      )\n                    })\n                  }\n                </div>\n              ) : null\n            }\n          </TemplateOpitionContainer>\n          <TemplateContainer>\n            {\n              selectTemplate && <h2>{selectTemplate.conteudo}</h2>\n            }        \n          </TemplateContainer>\n          <SendDropdown>\n            <h2>Tipo do envio</h2>\n            <select onChange={e => setSendOption(e.target.value)}>\n              <option selected value=\"0\">Utilizar optins cadastrados</option>\n              <option value=\"1\">Utilizar optins personalizados</option>\n              <option value=\"2\">Template com parâmetros</option>\n            </select>\n          </SendDropdown>\n          <FooterContainer>\n            {\n              sendOption === '0' ? (\n                <button onClick={() => enviarMensagens()}>Enviar</button>\n              ) : (\n                <div>\n                <button onClick={() => enviarMensagensCSV()}>Enviar</button>\n                <ReactFileReader handleFiles={handleFiles} fileTypes={'.csv'}>\n                  <button className='btn'>Anexar CSV</button>\n                </ReactFileReader>\n                {\n                  fileCSV && <h2>{fileCSV.name}</h2>\n                }\n                </div>\n              )\n            }\n          </FooterContainer>\n          <ListContacts>\n            <ul>\n              <li>\n                <h2>Celular</h2>\n                <h2>Data Aceite</h2>\n              </li>\n              \n              {\n                sendOption !== '0' ? celularesCSV?.map(celular => {\n                  var today = new Date();\n                  var dd = String(today.getDate()).padStart(2, '0');\n                  var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n                  var yyyy = today.getFullYear();\n    \n                  today = mm + '/' + dd + '/' + yyyy;\n                  return (\n                    <li>\n                      <h2>{celular}</h2>\n                      <h2>{today}</h2>\n                      {\n                        parametrosCSV && parametrosCSV.map(parametroCSV => console.log(parametroCSV))\n                      }\n                    </li>\n                  )\n                }) : (\n                  celulares ? celulares.slice(0, 199).map(({ celular, data_aceite}) => {\n                    return (\n                      <li>\n                        <h2>{celular}</h2>\n                        <h2>{data_aceite.substr(0, 10)}</h2>\n                      </li>\n                    )\n                  }) : <Lottie \n                        options={defaultOptions}\n                        height={400}\n                        width={400}\n                      />\n                ) \n              }\n            </ul>\n          </ListContacts>\n          <Logout onClick={handleLogout}>Sair</Logout>\n        </Container>\n      )\n    }\n    </>\n  );\n}\n\nexport default Template;","import Template from './Template'\n\nexport default Template","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport Login from './screens/Login'\nimport ReceivedMessages from './screens/ReceivedMessages'\nimport Template from './screens/Template'\nimport NavBar from './components/NavBar/Navbar'\n\nexport default function Routes({ location }) {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path='/' exact component={Login}/>\n        <Route path='/received' component={ReceivedMessages}/>\n        <Route path='/template' component={Template}/>\n      </Switch>\n    </BrowserRouter>\n  );\n}","import { createGlobalStyle } from 'styled-components'\nimport { theme } from '../theme';\n\nexport default createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  html,body, #root {\n    min-height: 100%;\n  }\n\n  body {\n    background: ${theme.color.lightGray};\n    -webkit-font-smoothing: antialiased !important;\n   \n  }\n\n  body, input, button {\n    font-size: 14px;\n    font-family: Arial, Helvetica, sans-serif;\n  } \n\n  button {\n    cursor: pointer\n  }\n`;","import React from 'react';\nimport Routes from './routes';\n\nimport GlobalStyle from './styles/global'\n\nfunction App() {\n  return (\n    <>\n      <Routes />\n      <GlobalStyle />\n    </>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}